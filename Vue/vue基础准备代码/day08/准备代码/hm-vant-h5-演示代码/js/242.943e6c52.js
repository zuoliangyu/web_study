"use strict";(self["webpackChunkhm_vant_h5"]=self["webpackChunkhm_vant_h5"]||[]).push([[242],{4242:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-page"},[n("nav",{staticClass:"my-nav van-hairline--bottom"},[n("a",{class:{active:"weight_desc"===t.sorter},attrs:{href:"javascript:;"},on:{click:function(e){return t.changeSorter("weight_desc")}}},[t._v("推荐")]),n("a",{class:{active:null===t.sorter},attrs:{href:"javascript:;"},on:{click:function(e){return t.changeSorter(null)}}},[t._v("最新")]),t._m(0)]),n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t){return n("article-item",{key:t.id,attrs:{item:t}})})),1)],1)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo"},[i("img",{attrs:{src:n(6949),alt:""}})])}],a=n(4234),s={name:"article-page",data(){return{current:1,sorter:"weight_desc",list:[],loading:!1,finished:!1}},async created(){},methods:{async onLoad(){console.log("需要加载更多了, 应该要发送请求了...");const t=await(0,a.Zz)({current:this.current,sorter:this.sorter});this.list.push(...t.data.rows),console.log(this.list),this.loading=!1,this.current++,this.current>t.data.pageTotal&&(this.finished=!0)},changeSorter(t){this.sorter=t,this.current=1,this.list=[],this.finished=!1,this.loading=!0,this.onLoad()}}},o=s,c=n(1001),l=(0,c.Z)(o,i,r,!1,null,"e8927cb8",null),u=l.exports},4234:function(t,e,n){n.d(e,{PQ:function(){return o},UA:function(){return a},Zz:function(){return r},a2:function(){return s},jY:function(){return c},xE:function(){return l}});var i=n(5972);const r=t=>i.Z.get("/interview/query",{params:{current:t.current,pageSize:10,sorter:t.sorter}}),a=t=>i.Z.get("/interview/opt/list",{params:{page:t.page,pageSize:10,optType:2}}),s=t=>i.Z.get("/interview/opt/list",{params:{page:t.page,pageSize:10,optType:1}}),o=t=>i.Z.get("interview/show",{params:{id:t}}),c=t=>i.Z.post("interview/opt",{id:t,optType:1}),l=t=>i.Z.post("interview/opt",{id:t,optType:2})},6949:function(t,e,n){t.exports=n.p+"img/logo.dbd40807.png"}}]);
//# sourceMappingURL=242.943e6c52.js.map